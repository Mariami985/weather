"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[6661],{6661:(q,g,a)=>{a.r(g),a.d(g,{HomeModule:()=>J});var u=a(4755),p=a(2443),A=a(727);class C extends A.w0{constructor(n,t){super()}schedule(n,t=0){return this}}const d={setInterval(i,n,...t){const{delegate:o}=d;return o?.setInterval?o.setInterval(i,n,...t):setInterval(i,n,...t)},clearInterval(i){const{delegate:n}=d;return(n?.clearInterval||clearInterval)(i)},delegate:void 0};var I=a(8737);const f={now:()=>(f.delegate||Date).now(),delegate:void 0};class h{constructor(n,t=h.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,o){return new this.schedulerActionCtor(this,n).schedule(o,t)}}h.now=f.now;const Z=new class M extends h{constructor(n,t=h.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let o;this._active=!0;do{if(o=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,o){for(;n=t.shift();)n.unsubscribe();throw o}}}(class T extends C{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var o;if(this.closed)return this;this.state=n;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(r,this.id,t),this}requestAsyncId(n,t,o=0){return d.setInterval(n.flush.bind(n,this),o)}recycleAsyncId(n,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&d.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(n,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let s,o=!1;try{this.work(n)}catch(r){o=!0,s=r||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.P)(o,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});var P=a(4482),_=a(5403),U=a(1884),e=a(3020);var O=a(3144);let H=(()=>{class i{constructor(t){this.http=t,this.weatherAPI_KEY="26a9bc113355cdeeed241e685c36ce45",this.weatherAPI_URL="https://api.openweathermap.org/data/2.5/"}getWeatherData(t=""){return this.http.get(`${this.weatherAPI_URL}/weather?q=${t}&appid=${this.weatherAPI_KEY}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(O.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var m=a(5030),c=a(650);function b(i,n){if(1&i&&(e.TgZ(0,"ion-card",5)(1,"ion-item")(2,"span"),e._uU(3,"Maximum Temp"),e.qZA(),e.TgZ(4,"span",14),e._uU(5),e.qZA()(),e.TgZ(6,"ion-item")(7,"span"),e._uU(8,"Minimum Temp"),e.qZA(),e.TgZ(9,"span",14),e._uU(10),e.qZA()(),e.TgZ(11,"ion-item")(12,"span"),e._uU(13,"Humidity"),e.qZA(),e.TgZ(14,"span",14),e._uU(15),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(5),e.hij("",(t.weatherTemp.temp_max-273.15).toFixed(0)," \xb0C"),e.xp6(5),e.hij("",(t.weatherTemp.temp_min-273.15).toFixed(0)," \xb0C"),e.xp6(5),e.hij("",t.weatherTemp.humidity," %")}}function D(i,n){if(1&i&&(e.TgZ(0,"div")(1,"ion-card",5)(2,"ion-item",6)(3,"p",7),e._uU(4,"Today's Report"),e.qZA(),e.TgZ(5,"ion-label",8),e._uU(6),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"ion-item",6)(9,"span",9),e._uU(10),e.TgZ(11,"span",10),e._uU(12,"\xb0C"),e.qZA()(),e._UZ(13,"img",11),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-icon",12),e.TgZ(16,"span"),e._uU(17),e.qZA()()(),e.YNc(18,b,16,3,"ion-card",13),e.qZA()),2&i){const t=e.oxw();e.xp6(6),e.Oqu(e.xi3(7,5,t.todayDate,"EEE dd MMM")),e.xp6(4),e.hij(" ",((null==t.weatherTemp?null:t.weatherTemp.temp)-273.15).toFixed(0)," "),e.xp6(3),e.Q6J("src",t.weatherIcon,e.LSH),e.xp6(4),e.Oqu(t.cityName),e.xp6(1),e.Q6J("ngIf",t.weatherTemp)}}function N(i,n){1&i&&(e.TgZ(0,"div",15),e._UZ(1,"img",16),e.TgZ(2,"span",17),e._uU(3,"No Data"),e.qZA()())}const R=[{path:"",component:(()=>{class i{constructor(t,o){this.weatherApiService=t,this.activatedRoute=o,this.todayDate=new Date,this.name="",this.loading=!0}ngOnInit(){this.getWeatherData()}getWeatherData(){this.cityName&&this.weatherApiService.getWeatherData(this.cityName).pipe(function S(i,n=Z){return(0,P.e)((t,o)=>{let s=null,r=null,w=null;const y=()=>{if(s){s.unsubscribe(),s=null;const l=r;r=null,o.next(l)}};function Y(){const l=w+i,x=n.now();if(x<l)return s=this.schedule(void 0,l-x),void o.add(s);y()}t.subscribe((0,_.x)(o,l=>{r=l,w=n.now(),s||(s=n.schedule(Y,i),o.add(s))},()=>{y(),o.complete()},void 0,()=>{r=s=null}))})}(500),(0,U.x)()).subscribe(t=>{console.log(t),this.weatherTemp=t.main,this.weatherWind=t.wind,this.weatherDetails=t.weather[0],this.weatherIcon=`https://openweathermap.org/img/wn/${this.weatherDetails.icon}@4x.png`,this.loading=!1})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(H),e.Y36(p.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],decls:7,vars:3,consts:[[2,"text-align","center","margin","15px"],[2,"font-weight","400","font-size","1.5em"],["animated","true","placeholder","Search for city",1,"searchbar",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","noData",4,"ngIf"],[1,"cardStyle"],["lines","none"],[2,"font-weight","500","color","white"],["slot","end","id","date"],["id","temp"],[2,"font-size","1em","font-weight","bold","color","#f6b844","margin-right","2px"],["slot","end","width","180px","height","180px",3,"src"],["name","location","id","locationIcon"],["class","cardStyle",4,"ngIf"],["slot","end"],[1,"noData"],["src","assets/pic2.png","alt","pic1"],[2,"font-weight","400","font-size","1em"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"ion-label",1),e._uU(3,"Weather Forecast"),e.qZA()(),e.TgZ(4,"ion-searchbar",2),e.NdJ("ngModelChange",function(r){return o.cityName=r})("ngModelChange",function(){return o.getWeatherData()}),e.qZA(),e.YNc(5,D,19,8,"div",3),e.YNc(6,N,4,0,"div",4),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngModel",o.cityName),e.xp6(1),e.Q6J("ngIf",!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[u.O5,m.JJ,m.On,c.PM,c.Gu,c.gu,c.Ie,c.Q$,c.VI,c.j9,u.uU],styles:["#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.searchbar[_ngcontent-%COMP%]{--ion-background-color: #3b7e88;color:#fff}.cardStyle[_ngcontent-%COMP%]{border-radius:20px;--ion-background-color: #3b7e88}.cardStyle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:300}.cardStyle[_ngcontent-%COMP%]   #temp[_ngcontent-%COMP%]{font-weight:300;font-size:4em;margin:5px}.cardStyle[_ngcontent-%COMP%]   #locationIcon[_ngcontent-%COMP%], .cardStyle[_ngcontent-%COMP%]   #date[_ngcontent-%COMP%]{color:#f6b844}.noData[_ngcontent-%COMP%]{margin:50px;display:flex;justify-content:center}.noData[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:52%}"]}),i})()}];let W=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(R),p.Bz]}),i})(),J=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,m.u5,c.Pc,W,c.Pc.forRoot()]}),i})()}}]);